(kicad_sch (version 20211123) (generator eeschema)

  (uuid 30010fc8-4121-456f-ab29-2016785d5607)

  (paper "A4")

  (lib_symbols
    (symbol "Device:R" (pin_numbers hide) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "R" (id 0) (at 2.032 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "R" (id 1) (at 0 0 90)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at -1.778 0 90)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "~" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "R res resistor" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Resistor" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "R_*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "R_0_1"
        (rectangle (start -1.016 -2.54) (end 1.016 2.54)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "R_1_1"
        (pin passive line (at 0 3.81 270) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 0 -3.81 90) (length 1.27)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Diode:BAS21" (pin_numbers hide) (pin_names hide) (in_bom yes) (on_board yes)
      (property "Reference" "D" (id 0) (at 0 2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "BAS21" (id 1) (at 0 -2.54 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (id 2) (at 0 -4.445 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "https://www.diodes.com/assets/Datasheets/Ds12004.pdf" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "diode" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "250V, 0.4A, High-speed Switching Diode, SOT-23" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOT?23*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "BAS21_0_1"
        (polyline
          (pts
            (xy -1.27 1.27)
            (xy -1.27 -1.27)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 0)
            (xy -1.27 0)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 1.27 1.27)
            (xy 1.27 -1.27)
            (xy -1.27 0)
            (xy 1.27 1.27)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "BAS21_1_1"
        (pin passive line (at 3.81 0 180) (length 2.54)
          (name "A" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin no_connect line (at -1.27 0 0) (length 2.54) hide
          (name "NC" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -3.81 0 0) (length 2.54)
          (name "K" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "Isolator:TCMT1100" (pin_names (offset 1.016)) (in_bom yes) (on_board yes)
      (property "Reference" "U" (id 0) (at 0 5.08 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Value" "TCMT1100" (id 1) (at 0 -5.08 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "Package_SO:SOP-4_4.4x2.6mm_P1.27mm" (id 2) (at 0 -7.62 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "http://www.vishay.com/docs/83510/tcmt1100.pdf" (id 3) (at 0 -1.27 0)
        (effects (font (size 1.27 1.27)) (justify left) hide)
      )
      (property "ki_keywords" "NPN DC opto" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Optocoupler, Vce 70V, CTR 50-600%, Viso 3750V (RMS), SOP-4" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_fp_filters" "SOP*4.4x2.6mm*P1.27mm*" (id 6) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "TCMT1100_1_1"
        (rectangle (start -5.08 3.81) (end 5.08 -3.81)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type background))
        )
        (polyline
          (pts
            (xy -3.175 -0.635)
            (xy -1.905 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 0.635)
            (xy 4.445 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 4.445 -2.54)
            (xy 2.54 -0.635)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 4.445 -2.54)
            (xy 5.08 -2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 4.445 2.54)
            (xy 5.08 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 -0.635)
            (xy -2.54 -2.54)
            (xy -5.08 -2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 2.54 1.905)
            (xy 2.54 -1.905)
            (xy 2.54 -1.905)
          )
          (stroke (width 0.508) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -5.08 2.54)
            (xy -2.54 2.54)
            (xy -2.54 -1.27)
            (xy -2.54 0.635)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -2.54 -0.635)
            (xy -3.175 0.635)
            (xy -1.905 0.635)
            (xy -2.54 -0.635)
          )
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -0.508 -0.508)
            (xy 0.762 -0.508)
            (xy 0.381 -0.635)
            (xy 0.381 -0.381)
            (xy 0.762 -0.508)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy -0.508 0.508)
            (xy 0.762 0.508)
            (xy 0.381 0.381)
            (xy 0.381 0.635)
            (xy 0.762 0.508)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 3.048 -1.651)
            (xy 3.556 -1.143)
            (xy 4.064 -2.159)
            (xy 3.048 -1.651)
            (xy 3.048 -1.651)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (pin passive line (at -7.62 2.54 0) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at -7.62 -2.54 0) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "2" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 -2.54 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "3" (effects (font (size 1.27 1.27))))
        )
        (pin passive line (at 7.62 2.54 180) (length 2.54)
          (name "~" (effects (font (size 1.27 1.27))))
          (number "4" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:+3V3" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -3.81 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "+3V3" (id 1) (at 0 3.556 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"+3V3\"" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "+3V3_0_1"
        (polyline
          (pts
            (xy -0.762 1.27)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 2.54)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
        (polyline
          (pts
            (xy 0 2.54)
            (xy 0.762 1.27)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "+3V3_1_1"
        (pin power_in line (at 0 0 90) (length 0) hide
          (name "+3V3" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
    (symbol "power:GNDD" (power) (pin_names (offset 0)) (in_bom yes) (on_board yes)
      (property "Reference" "#PWR" (id 0) (at 0 -6.35 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Value" "GNDD" (id 1) (at 0 -3.175 0)
        (effects (font (size 1.27 1.27)))
      )
      (property "Footprint" "" (id 2) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "Datasheet" "" (id 3) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_keywords" "power-flag" (id 4) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (property "ki_description" "Power symbol creates a global label with name \"GNDD\" , digital ground" (id 5) (at 0 0 0)
        (effects (font (size 1.27 1.27)) hide)
      )
      (symbol "GNDD_0_1"
        (rectangle (start -1.27 -1.524) (end 1.27 -2.032)
          (stroke (width 0.254) (type default) (color 0 0 0 0))
          (fill (type outline))
        )
        (polyline
          (pts
            (xy 0 0)
            (xy 0 -1.524)
          )
          (stroke (width 0) (type default) (color 0 0 0 0))
          (fill (type none))
        )
      )
      (symbol "GNDD_1_1"
        (pin power_in line (at 0 0 270) (length 0) hide
          (name "GNDD" (effects (font (size 1.27 1.27))))
          (number "1" (effects (font (size 1.27 1.27))))
        )
      )
    )
  )

  (junction (at 146.05 76.2) (diameter 1.016) (color 0 0 0 0)
    (uuid 67ab6325-5225-42ee-86cc-5aee5e01efce)
  )
  (junction (at 120.65 88.9) (diameter 1.016) (color 0 0 0 0)
    (uuid bace1c82-95a6-4669-a7e7-5bc2416e7e84)
  )
  (junction (at 120.65 76.2) (diameter 1.016) (color 0 0 0 0)
    (uuid f238640e-3401-420a-ac31-a433f268cbfc)
  )

  (wire (pts (xy 146.05 81.28) (xy 146.05 86.995))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 00d4fb16-433f-4ad2-abb7-f2e84c872a3e)
  )
  (wire (pts (xy 101.6 88.9) (xy 120.65 88.9))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 05a03d0f-2e49-409b-a19f-bd595dade153)
  )
  (wire (pts (xy 120.65 86.36) (xy 120.65 88.9))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 08e64842-20f4-4fa7-b3bf-7017a0c6d937)
  )
  (wire (pts (xy 146.05 63.5) (xy 146.05 66.04))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 243cbe59-54f3-495a-9c70-e13a2b90ddfe)
  )
  (wire (pts (xy 127 81.28) (xy 124.46 81.28))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 32ad9d71-c4ea-45a5-8f96-22fb38aaf067)
  )
  (wire (pts (xy 142.24 76.2) (xy 146.05 76.2))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 5b6d3c18-78e3-43a0-82d0-cc5890312ce1)
  )
  (wire (pts (xy 101.6 76.2) (xy 106.68 76.2))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 81bb7c08-949e-4100-93c6-478422601a05)
  )
  (wire (pts (xy 146.05 76.2) (xy 146.05 73.66))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 8610c316-ec31-4e59-ad1e-050a6268ffc2)
  )
  (wire (pts (xy 142.24 81.28) (xy 146.05 81.28))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid 9c93f676-c9fb-4acb-890f-1a3e793c1599)
  )
  (wire (pts (xy 124.46 81.28) (xy 124.46 88.9))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid afa40d27-375d-447c-8156-b6477635e628)
  )
  (wire (pts (xy 146.05 76.2) (xy 152.4 76.2))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid c62c6f5c-dd81-48ef-aa10-bd5022f1c329)
  )
  (wire (pts (xy 120.65 76.2) (xy 120.65 78.74))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid c6343ff5-8f3d-453a-86b0-2f2e628158d8)
  )
  (wire (pts (xy 124.46 88.9) (xy 120.65 88.9))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid d50e34d0-25b7-418b-a502-e8c562a7874f)
  )
  (wire (pts (xy 120.65 76.2) (xy 127 76.2))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid d739aadd-4ea7-42d0-a34f-0a1d956b0dfe)
  )
  (wire (pts (xy 114.3 76.2) (xy 120.65 76.2))
    (stroke (width 0) (type solid) (color 0 0 0 0))
    (uuid dde046c1-a561-4b8b-bd31-bf37f22b9b2d)
  )

  (text "Vf : 1.53V-1.6V\nIf : 10mA\n@24V => 4k58\n@12V => 2k\n@5V => 680R"
    (at 114.935 65.405 0)
    (effects (font (size 1.27 1.27)) (justify right bottom))
    (uuid c30a7dc4-3cb8-42e3-80f7-e90ac4cedf67)
  )

  (hierarchical_label "IN_RET" (shape input) (at 101.6 88.9 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid 2c6c9424-39c5-4a6e-b925-c13ddfd7708c)
  )
  (hierarchical_label "IN_MCU" (shape input) (at 152.4 76.2 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid 82fb509b-f070-4b00-914c-78fe579c4276)
  )
  (hierarchical_label "IN" (shape input) (at 101.6 76.2 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid eca57eaa-af6b-4f19-bd5f-1f5292d05222)
  )

  (symbol (lib_id "power:GNDD") (at 146.05 86.995 0) (mirror y)
    (in_bom yes) (on_board yes)
    (uuid 21844643-d027-4f94-83bc-bf0a02b0feae)
    (property "Reference" "#PWR04102" (id 0) (at 146.05 93.345 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "GNDD" (id 1) (at 145.9484 90.932 0))
    (property "Footprint" "" (id 2) (at 146.05 86.995 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 146.05 86.995 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid c5dc6bcf-ce15-40ff-b0f5-c3bf2ed1901c))
  )

  (symbol (lib_id "Diode:BAS21") (at 120.65 82.55 270)
    (in_bom yes) (on_board yes)
    (uuid 4bbe6c10-c365-43d8-95fe-aff27f2e83c7)
    (property "Reference" "D4101" (id 0) (at 115.1698 82.55 0))
    (property "Value" "BAS21" (id 1) (at 117.4685 82.55 0))
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23" (id 2) (at 116.205 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.diodes.com/assets/Datasheets/Ds12004.pdf" (id 3) (at 120.65 82.55 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 48a74e27-6918-432a-99bf-797942196c60))
    (pin "2" (uuid 584c8502-4f0b-45b7-96ab-b474b86c6573))
    (pin "3" (uuid 89bf9190-09fa-4805-a1fc-7d1c28f9bcb9))
  )

  (symbol (lib_id "power:+3V3") (at 146.05 63.5 0)
    (in_bom yes) (on_board yes)
    (uuid 780e1766-0db4-4f52-9d7a-a76e4312aefd)
    (property "Reference" "#PWR04101" (id 0) (at 146.05 67.31 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Value" "+3V3" (id 1) (at 146.4183 59.1756 0))
    (property "Footprint" "" (id 2) (at 146.05 63.5 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "" (id 3) (at 146.05 63.5 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 7b37b8f6-75cb-4b8c-9d4e-8c76b468d8b2))
  )

  (symbol (lib_id "Device:R") (at 110.49 76.2 270) (mirror x)
    (in_bom yes) (on_board yes)
    (uuid a4bd1170-dc8f-4c1e-9181-0044fa0333f1)
    (property "Reference" "R4101" (id 0) (at 111.6394 74.4219 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "4k3" (id 1) (at 109.341 74.422 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (id 2) (at 110.49 77.978 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 110.49 76.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid 66f3ed68-628a-44d2-897a-a22103cc3b4d))
    (pin "2" (uuid 6c3c2bbc-7500-4c9e-b4b5-783c41765a18))
  )

  (symbol (lib_id "Device:R") (at 146.05 69.85 0) (mirror y)
    (in_bom yes) (on_board yes)
    (uuid aee1ee90-d33c-41d0-a68a-5403727d0235)
    (property "Reference" "R4102" (id 0) (at 144.2719 68.7006 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k" (id 1) (at 144.272 70.999 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0603_1608Metric" (id 2) (at 147.828 69.85 90)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "~" (id 3) (at 146.05 69.85 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (pin "1" (uuid debc8906-a7fb-482d-8dc0-4a383d215410))
    (pin "2" (uuid 43c32757-32f3-4723-8df9-fee4dc79f339))
  )

  (symbol (lib_id "Isolator:TCMT1100") (at 134.62 78.74 0)
    (in_bom yes) (on_board yes)
    (uuid e0ce909b-7949-42ea-89f4-5f03daa89887)
    (property "Reference" "U4101" (id 0) (at 134.62 70.6182 0))
    (property "Value" "TCMT1100" (id 1) (at 134.62 72.9169 0))
    (property "Footprint" "Package_SO:SOP-4_4.4x2.6mm_P1.27mm" (id 2) (at 134.62 86.36 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "http://www.vishay.com/docs/83510/tcmt1100.pdf" (id 3) (at 134.62 80.01 0)
      (effects (font (size 1.27 1.27)) (justify left) hide)
    )
    (pin "1" (uuid 3466d77a-02be-4b33-84d0-2aa1d0121cbb))
    (pin "2" (uuid a526b0ce-3f35-4ca4-babe-60c63a9069a4))
    (pin "3" (uuid d2f5f8a9-87a1-4f75-8d79-d3424f0a8ca4))
    (pin "4" (uuid e8144e7e-c684-49ed-ad4b-5f2d23ea083d))
  )
)
